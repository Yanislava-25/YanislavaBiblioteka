using Biblioteka.Data;
using Microsoft.AspNetCore.Builder;
using Microsoft.AspNetCore.Identity;


namespace Biblioteka.Services
{
    public static class ApplicationBuilderExtension
    {
        public static async Task<IApplicationBuilder> PrepareDataBase(this IApplicationBuilder app)
        {
            using var scope = app.ApplicationServices.CreateScope();

            var services = scope.ServiceProvider;

            var loggerFactory = services.GetRequiredService<ILoggerFactory>();
            try
            {
                var context = services.GetRequiredService<ApplicationDbContext>();
                var userManager = services.GetRequiredService<UserManager<Reader>>();
                var roleManager = services.GetRequiredService<RoleManager<IdentityRole>>();
                //Sazdavane na roles
                await SeedRolesAsync(roleManager);
                //sazdavane na SUPER ADMIN s vsi4kite mu roli
                await SeedSuperAdminAsync(userManager);
            }
            catch (Exception ex)
            {
                var logger = loggerFactory.CreateLogger<Program>();
                logger.LogError(ex, "An error occurred seeding the DB.");
            }

            return app;
        }
        public static async Task SeedRolesAsync(RoleManager<IdentityRole> roleManager)
        {

            //Seed Roles
            await roleManager.CreateAsync(new IdentityRole("Admin"));
            await roleManager.CreateAsync(new IdentityRole("User"));
            await roleManager.CreateAsync(new IdentityRole("Guest"));
        }

        public static async Task SeedSuperAdminAsync(UserManager<Reader> userManager)
        {
            //Seed Default User
            var defaultUser = new Reader
            {
                UserName = "superadmin",
                Email = "superadmin@gmail.com",
                FirstName = "Tonya",
                MiddleName = "hr.",
                LastName = "Belezireva",
                PhoneNumber = "0899999999",
                Photo = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoGBxMUExQUFBMWGBYYGhodGRoYGRsaGhgbHBoZGhobGRoaHysiGhwpIBoZJDQjKCwuMTExGyI3PDcvOyswMy4BCwsLDw4PHBERHTIpIigyMDEwMDMwMDAwMDAwMDAuMjAwMjAwMDAwMDEwMDAuMDAwMDAwMDAwMDAwMDAwMDAwMP/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAwADAQEAAAAAAAAAAAAABAUGAQIDBwj/xABMEAACAQIDBAcEBgYIBQIHAAABAgMAEQQSIQUxQVEGEyIyYXGBUpGhsQdCcoKSwRQjM2Ky0TRTY3Ois9LwFUOTwvEk4RYlNURkdIP/xAAZAQEAAwEBAAAAAAAAAAAAAAAAAgMEAQX/xAArEQADAAICAgECBgIDAQAAAAAAAQIDESExEkETBFEiMkJhcZEj8DOB8RT/2gAMAwEAAhEDEQA/APs1KUoBSlKAUpSgFKUoBSlKAUro7gC5IA8dK8f02PgwP2bt/DegJNKjfpa8Ff8A6bj5gUOJbhFIfwD5sKAk0qL+lP8A1Mnvj/11yMU3GKQfgP8ACxoCTSoR2kg3rKP/AOUh+IW1c/8AE4uMir9o5T7mtQEyldEcEXBBHMaiu9AKUpQClKUApSlAKUpQClKUApSlAKUpQClK8ZplQXY2HzPADmfAUB7V5SzKu8+Q3k+QGp9K8M0j7uwvMgFz5A6L63PgK9oYFXcNTvJ1J8ydTQHTrXPdWw5vp/hGvvtQ4dj3nbyXsj3jtfGpNKAjphEBvlBPM6n3nWpFKUApSlAKUpQClKUBDk2fGTcLlPtKSjepWxPrXQrKm5w45OLH8aD5qan11IvQERdoqCBIDGTuzd0+TDT0Nj4VMqPNF7qq26yI3iPZ9hu56cU9NPA13X2ObL2lV+A2ojnKbo/stvPMqdzDy3cQKsK4dFKUoBSlKAUpSgFKUoBSlRMfisoAFi7d0Hd4s37o4+g3kUBxi8XlsqjM53Le2ntMfqr4+4E6V1wuF1zuc78DawXmEX6o8dSeJqNhQFDOzfvO7aXsN55ADhuAqHiOkSvHIIcwdRoSttOJF927iBvGlTmKrohVqezQ1Q4vpbCjZVVmtvIsB6XNz7q89l4iRoh+suGHaLXZhpY5SW09xrM7Yw/VzSDge0mve03AcWBuLeXOtGLBPk1fooyZnpODZ47b8aRxvZmz2yqts26+uulq9dm7YjlVmF1yd4NYZRrqTe1tD7qz8ckQWIyMqFRdswya25sB417bYjXIGABzFdRuIF2Hnu+NR+KXwux8tJ7fRpsPOjjMjKw5qQR7xXrWMwG0Ew79dICkbqVJUX1BUqzqNW4gWBOp51Ube6Rz4yR4cP2IkF5GY5VUc5X4D90X8j9XPmXxvTNWL/Itmz2j0mwsOjyqT7K9o+Wmg9aqH+kXD/VR/vWHusTWDklgQ2RWnYb5JCY4yf3I1OZl+03lXYbbcaLDhlHJYF+JN71meV+jUsKN/hunuHberjyyn4XDH3Vd4Da8M37OQMd5XcwHMo1mA9K+RLtVDpJhcMwP9WnUv+JP5V7QRK9jhJmEg1EEpyyD+6kBsT5EHmRRZmuxWFfwfZaVguiXT5WvFiSVddMxU5gb2yuoF730Btv0Oti2kk2p1ykICEOjM2hI4hV3gnUXa1uRrRCdraMuT8D0zxfpZCJAgDFeLgaeg3kf71qPtnpJIhHVKuX2nVu15C4sPP8A85nFHqpX7N8jXtzG8W53FaHpBGrIljre48iK3/DE1PtMxfNbTJmw9uvIrGYKvFWUMAeYsSTfduOt91esu1oGBIkAtvzBh8CKj4KK0OUcj76g7SjtEIU1JI9dah8Uunrjkl8tKeSZisOrqGU5lNiCD6hlI+YqRsna5BEcpvwWTmd2V+R5NuO7Q2v4RBohFHdSvdGhDaKzAk3sTpy4+lRcYy5iDlud6m2o46cRVLn0XzW1s19KpNiY86Rub+wxNybb0Y8WA1B4jxBvdVU1osOaUpXAKUpQClKUB5yyBQSTYAEk8gNSaz+NxtmJZSWIBYC3YX6qm+gtx5sTwXT16W7XEIjW2YuSct7XCWOp4LcqTzAI41VbNxfWpLmGr7zzax0HG2UBvMtv1q7Hjb/E+irJkS4XZZyuZY8gWysBckgkjfYAXGvO/pWa2HJkeXMDuZcttSQbZQOJuNLb6ndG3dwEW5dCbezlbhIdwFxccdNONajA7KRGMhAaQ72ta3Cyj6o+J4k1c8ixbkpUPLqmUmxNhz5AHcxodco1f+S+t/IVfYHZ0cXdXU72OrHzY6ny3CplKzXkqntl8Y5lcAiqHafR9SC0R6tt/YHZvzaPuv52DciKvqg7axvUwyScVXS+7MdFv4XIqKpzyibny4PnO0o5ppxAzqZFuMy3yIF78tvAHKB7RIvuNR8PhRiZBhMOwTDxguSe0ZCtgZXtbOxJFhoALbrC0Y40phZprnPiZTErceqQXkbzZjlPjrVRBiWQhkZkYbipKkX0Oo8KyZLrJTbNmPGpnUknaGG6qWSPMGyG2YCwOgYGx3aEacDevXCbLnlGaOGVl4MEbKfJrWPoateg2x1lZppRmSNrKra55NGJe/eChgdd5YcjV5tvpnhoJCkrszjeEUtl87aDyqp1rhcssdPpGAxUbRtldWRvZdSre5gDbxrnA7MmnzmJb9WAScwWx1y5SSO0SDa3Kvo8GIw2NgNsssR0IIIKt/Eji+8WNfNtvwS4SeaBZHAIFirFesjbVc2Ui/EHxU0mvLj2PLZL6z9NiaRf6XDHmuB/SYRvuOMgBt43A49m06FbTkxClVuXS19dCrd1ix37iOJNgeNY/Y20jh54pwbdWwLeKHRxb7JPrblWo6M4lcJtpUH7OYso5AS9pPdIuUeBrV9PlrHWl0yjPim559H0TCdGw9nm1PsjT3nef96VcxYCJRZY0H3RUmlX1dV2zLMqeiM+BjP/AC18wLH3jWoMuxcrZ4zc+yx+Tb/ffzFW9KTTXTDlPszGLxZRZc6ljcBYiNeAGbfoWuc2ot5VSYnZhMbTNZTe4AFvdbdW22hs9JhZhqO6w0ZTzB/LceIIrM7VEuaPDuBnLjtAWSSMaswH1WAGq8CRvFacOVb0Z8uNrk8tnSHq0LE6gG/HQ9lhybca1ezMV1iXPeGjedr3HgQQfW3CsdjIBO2WFboL3Y3yE8St9LeI8SN9WnRXEMCFbvKxje/HQuhPiNfWSo5Y42Tx3t6NVSlKzF4pSlAcV0lkCgkmwAJJ5Ab69KgbbUGGRTftDLpzYgD4kV1LbON6RkdqY0YyTSMrlFkYkG47ROm8EnJ4dnfXlsHCyCZky2IHaY91Qd1/aO+w89wvTCYCSPEBEIJtck7kXix566AaZjy1I1GBjUEDhe5vvY8S3M/yAGgrdeSYnxjoyRjd15UTtmYJIkCoLDeeZJ3ljxNSzSlYW9vZsXBzSvOWQKLndXYG9cBzWZ+k1iNnTkX0MW7l1sd6tJcewY2UFQbcjp41B6SKcRhp4LZesjZQTwa3ZPIWNjXXLaOy9NM+V4w//L8E3BZMSh82kzj4Cqjr6n7CmE2CxWGYduMieMaXzKAkqjxsAPv1T4dWdlRFLMxAUKLkk7gKxL2jdLPqX0ezBsElt6yShvtZy4v9xkr5z0mhePFTq9w2dmF/rKxJVhzFuPgRwqZsvbOI2bOyulg2XrImIswt2WVhcBtT2hcHcd2myh6a7PnVWZlzDUJKgDKfAns+qk1W9zXl2jnsi/RXhXWCWRgQsjjLf6wUakeFza/hWb+krEK2NaxHYjjRvBgXe3uda0G3PpEiRSIbO24WN7eZGgHlc184cyzyO+V5HYlmyKzEcyQoNlHwruNN06Z3WuzpNNcECrzaOIti8DJ9YfozH/q3H51QQRF2VV1LEAeZ0HpV/iYVk2hBFnVVQxIWYgKAhztck23XHnVv60cf5WfoYVzVVs7Gi9swZTuIINvUcKtK1NaMJzSuuYbr612oDiq7bmESSPti4BG42I4AqeDC++rGoe1j+rtzIHxv+Vdns4ygTGLCAkhtp2WAsHUaXsNxGgI4HwIqpl2kwkLwq2UsGNwLFgwblcAkDjVji4lkUo269w3FW4MPzHEV0TGCOC0rAMrZSLjMwBDMEzd4lCSPMbq2w5a5W2Zbmpe09I1+HmDqrDcwBHkRevQ1F2WyGGIx3yFFK335SARfxtUo1hfZrQpSlAc14YuAOjIb2YWuN45EeI3170oCjOBeMlmZWz5VJVcuovlvcnfmI88o41yatpYwwKkXBFiKqcfIsVzLIqoFLZ5CFsB3sxOhsLa7/PeZqvuc1ro9YMU68cw5HePI1OXFoeNvMV8k239LKglcFFnX+tmuqeaILOR9ojyrMY/G7QxgLTzOItb526mED7AtmHiQ27fVd3KLIx1R9W6SdPcFE2VpwxU9yL9YxPjl0X7xFZLG/THIgKwYZQPqtM9yL/uJ/rrFLDhI9GeSUjhGOrj/ABHUjxU10bpAENoY4Yr+yud/PM2/1Bqp5m+Ei5YZXZbYjpHtXE3tJMFPCIdUvo+h/wAVQp8FJ/8AcYmMeEkryv8AhP5GobSYmff1zD985F9xsPcK9YNgSkE9kAanKGawGpJ0AFV1dPtl0416RJ2bPh4JEkWd2K3uEiKqwIIK9s7v5Coi7QEU4mw4ICklVkA0zBlZbKdVysQNQdfC5lYbYSsQM0hbkoA9NxNTX6MhAC0Mlt12Lge69jUNz7eyz4qKPbO1TPJ1j5VIUKANAFFyBqddWJv41B69PbX3itinRX/8QeqD869BsJhp+j28o/5Cuq5S0h8T+6MV+kL7S+8VabB6SSYXrOqZCJAuYHXVCSp0I3ZjpV4cEobKYgDpoUAOu7QivQ7GhJ7cCX+yAffauPJL4aO/DX3M/sHGxRzdZLmNgcuUAgMd5Oo4X3DjXs2DwkhJGLYMSSTLHa5OpJNlFXH/AMI4Vt0bIeasw+F7fCo8/Qcf8vESL9sK4+FjXPKW97a/3/sj4WvRDi6NTr2sPLG370blG9Lf6qnYfpHtjDADrp8o4PaZfVjmIH3hVPjejmKiN1yOeBRirfH+deK7cxcPeMyge2M6n7zA6eVTl1+lplVSv1I22x/pcmVh1+HSS28xMUb8LXHxFbHZH0o4KdgC/VE/VmGX3OCUv618kj6SxyaTwxSD2l7Ljyud/kRXJ2Zhpv6PPlY/8uXQ+Stx/wAVTWal+ZEHhl9H6Fi2grAEAkHcRYg+t6ibQlzsLbl3eJ51+fkxu0tnNmjeRFB1A7cTfaXVdfEA1u+in0twTER4tBDJ/WLcxsfEd6P4jxFaIuXyii8dSaomvDF9HZcS6MhRVQFGZr3JuDooHaCajeNWYcKtsFhRJJ2WBXKHzKQRlYnLkI0N7Nrwt4itBFGFAVRYDcKu+Ry9z2UuFS0zpg8OscaRr3UVVHkoAHyr3pSqSYpSlAKUpQCq3pDsiLFYeSCVcyOpFtLg/VZSdzA2INWVKA/PO0Ww2DJEYEs66NJICEjcaMAnAg3Ft4sQWvpVNbF4ts4DMODP2UH2B/IXrf8ATz6N1Wf9J68dU8ubqihzEsS7rmzWK6Md27TxqLiJCSbVjtqH92ehil5Fv0ZjDdFhc9dKz2scq9ldb6E7z8KmYbCIhIjjCgDWw1Pmd5sAffVio7/2vkAPyqVgMITAzAdqVgq+pH/aF+NVO6ZpnHE9IgYbDM7IutnNvQb61W0MGXRIF0DsA1uCL2m99gPvV3w+ygs8KAd2Ik+JLAX+BrSR4Fb3tuFv5/IVHTOXa4MPsvDKuIaw0LnL4BXt+Yq+27DeE6d0g/G351Hw+DtF11tRIGHPJcqfiSfuitK+z0dSODD4Gu+JG600yujGg8hUOYZjLHuNgynzFvgR8au8Ps8BVBJuBY+mlVm2YRFNA99DmVvLQ/zPpQiqWyhxQXEQrNazp2ZB/vkdffVlhgJIhcDMOfMcfX86jQ4dYcRIpP6uRiDy7Vm/7j/iqVsqERzPCzaWup9ocPhp6UJt8HRoIiqNlsCwBtpa+nwNq5xOzAASrbuB/mK67ZQJ1qgnK6h18HUjMPUa1ZbOnSSJWOptZh4jf/vxrmh5NcmW23AYwrsuim/gRxF/s3qLi4erfLvVhdTzFXO2Rmw5QjWOTL5i11P4SKgiAyYSNvrxjf4ro3yPupokqM3tbYcDkExAE8U7Jv6b6qMT0bIBySH7LjMD4XFa/a8NkvyVX+AJ/OoaLcGpLJS9j44r0ZqPH47DDUF47fbS3jxUe6vXZeHwmOlRUjeGYnRY+0rnfoLdk6b7WHG9XsYsicwLfh0/KtD9Ff0e4bOMcZHd0kbKlgFjINxc3Jc2Km+m/dV2Jqv2Zmzy8a32j6VsfZEOHjEcMaoo5bzvN2O9jck3PEmp9KVrPPFKUoBSlKAUpSgFKVxQGE6e4gvOkY+onvaQ8fEBV/Gay2yIw8pG8An5AfnV/iH6zETzHuqzm/gnYX4KDVR0WXVgR2rIT63v8RXnZHu2z1cS8caRWRx2GIPsdZbzLED4X99ajB4LIsC+wL+trfmarlwVllBHfmI9DNl+VaRUqJOqPGCY/pF9P2Y/iap2IxT5SBa7dkeZ0v6b/SqmRyJYyBckSLqbDsuBv9anQwO8gBe2UX7CjvNcDVr7gG/EKlKIaRPTAgxFQOwFy+lrfKouBnfIASbr2T5rp+V/WrqPYaZQGaU8/wBbIPgrAVntp7BRJDYyqH0BE0g7duyT2tbgW19kDjVtxpbKpyq20e7Yj9ZkJ1K3HjY2P5VG23DeK/skH8j8DULaCHLh5FZiRmF2sSDYGxsNdxq3w7iaM8LghhyNqpLOuSmih63s/WKaH+0jN196M4v4mpKL1iRyqO3GdRxIGjKfG3xqJhpCkkZ3EML34X7B+BNWDbIkWQu875JDqIgI1D8NdWGYcc2/zrqW0Kejw6TwZoCw3rqPIix+Y91R9gsUfIdA43Hgw/8Ab5VPn6PxFGW8pJBHalmbhpoXtVbPs1RDDKucMAmazvowsA3e5jKfMU0SXK0cbVFpZU4MEb3Aj/flTYMQ6t14B3+JJ/OvTaMAMiSK7WaMaE5uJ0N9fjXpsFP2/wDeD/LQ/nUTv6Sv27hLBB+7l93/AJql2Th86MSdVUH8jWo6Qpop8T8qzeBOUTD2iR/jP5UJS+CNFBcE8FYr+IufyrX/AEU4srLPAT3lV1HipyOfc0fuqoXA5cIH4vJn9GJC/C3vr26CTZcdCR9dXT0KF/mi1ZierRDN+LHX+9H1alKVvPJFKUoBSlKAUpSgOK855Qqsx3KCT6C9elV/SE2w2IP9lJ/A1GdXZhWQrg3J7zRm/mRb5moOw4ys8RO6QMo8Tow/hI9auulCZMOy/wB2P8a1VzL2IQNGVgynkVU2PvIrzD1Vyixmg/W5P7VSPeJPmD7qt0iqA8wkbDzqNG7LD2WF9D5Xce7nVivfXxBHyP5GhBspto9l/FJf8LoG+aGr/YMYIMh3MxN+Fh2VPuUH1qm6RJkzScClz5xnN/CWr5F0tmxOJw6YtmdMLnSCKNnJvkRrvlFlGqHhv52ub8MeVFeW/GD9G/8AFIBvmi/Gv86r9sYmN0NwxT+sQBlHG4KknQ2N7aWr8pFRV90P6RYjBTrJhzfMQrISQr3OgOUjXl+dbbwPRimtPZ9ilkNmRt4YNuI15gHUBgb+FrV77NxWRr/VOjfz8xUm/wCm4WPFRwmORQVkiNswy9+PS3aU3IBAO8WGaq3ZyZ8wTVrZ1HtroGGvHukevmPPqHL0ejFq5O+34rObbm1B8x/OtOuNiOHUyBmElsoRGcksoIsEBt56Vk8U2Zd50014WOosdxBvpwqB0u6WywbNWKBS0lmEjhiBBGG6tGYqQQzXUKCdddDUsS3WiGfiEzZQSMD1cgKuBdc2W7rp2rKTqLgHx14io+AeLK8DOmYPIChYXKsxYdm97EMK/PGydrzQTriEc9Ypvcm+bmGvvBGhq86b4hcbOmKgU5pIc8qKczRtECHzclChSDxGtX//ADNVr7lK+o4PqkkTRs0bG+Tuk8VJJB+d/EGpvR1brMecvyRF/KvnGwsfiMI2GGJd3ixCIYZMxZVzhTkbMLggkcdPEHT6b0WT9QD7TyN6GRsvwArLcOaNKyK52jw6Rp+rB5MPkayUjWz2F2zaDmSot862XSHWEn94fO1Zno3huuxdrdmNs5+6qZf8VvwmoFkvU7LzpLCIsHlH1QijzFgPlVLsFernwrf2iAerBD8GqV022srsMOhvlN5CPat2U9L3P3fGvLBr/wCnwcvHroz73U/9tdl6pHNf43v3s+r0riua9I8kUpSgFKUoBSlKAVC21Hmw86je0bgeqkVNrigMH0uXNBcbi8R9M6k/C9QTFeSNf3X+cY/OrufB5oxFxVur19UU+oKt61X4Fc0kTWtdH+PVn8q86p0enFlfsd2EagXIYIGUWvmuoV1voHBtv32HIVo43LIGt2l1ItbUbwAeY3edZOGbq7306udQfJZlHyFbdlqKO12RtqQiSEka21HiLa+8E1m+iM8cWz5Q0KzPgZHYI4FxGWcrKtwdyNIAQNcjCr/C41VlaBjY96PxU71HiDfTl5V67DIhmkiYDK4LxEjhp1ieWim3mavw140UZZbk+A9PVkbGSyvEsfWkMoQWQggDs8zz8fOpnRfoviXmwsTBlSWaMlGzAELdizLzCB/f419uj6PtEcsEkaxDuxyxmTq/CNw6kIOAN7br2sKm7D2FklM80gkmK5VypkSNSbnIpLEsbC7EncLW1v6Lyxp6MXjSfKL1IgBoBrv8fOsl0g2Q0EoxMKkpmzSoN63vmdRyIJuOdjzrYXrzd+FZbSpFkU5e0UW2NgiQdZFYOQLj6sgtx5Nyb0PC1RgVKYXFhsOJWhvIIXHeIUOqkEEE5kuN/AitrEtgByrmw31xQk/I68jcuWfmH6Qo5Xn/AEl4kRZgCvVrZNBu8TaxvxqNgOik8kJmyMFPcBGrncLDjckAc6/QMnR+SEt+jGJo2YkRTXCx3NyEdVJCXvZCDa9gQAAPbB7GZpElxDqxQ3jjjBEaNwZi2srDgTYDfluAa2fNC5X9FCVP0UON6MWlwfWJeDZ+GLsSOzLJkCIo55RGWP2lHGrGJeoghiHeyog87an01NWvSbEDIkd7dY4zeEadtyfA2C/fFUmBxHXyvN9RLpF4+2/yHv515uek2kbsCemyP0rnCwEfvAfAmsngtsPFE6Q6PIbySeyBoqJzIFyTwLHwq66SESIL3s8jMBzC2RfPdWdiAAJ4An0A0/KqDZC45PKOM7hv1t4k8zxJPGt3LgxZEAsFxKKAOQxGX5VlujGGMmJhUjfIht4Kc7fBTW5wCZ50H9tM5+yjyWP42j99WY53r+SrPenr9jWVzSlbzzBSlKAUpSgFKUoBSlKAoNtRZJUb6rvFfwdZE+afweNVe0Y+qxCrwaU2+zKkjfxqw8gK1mJgV1ysLi4I8CpBB9CBVJ02wWaFZR34mUr45mC6+8H0qjJj3La/kvxZPxJP+DC9K4Cr4lBpnyuv3rAn8Qatts3FCaGOUbnUN7xqKy3S8iSGPELuIKN4a3F/JlYetXfRePqk6jgoVl+y6h/gWtWRI229pFd0wwtzE401Kk8vrKfDcffXbYXXzIwMil43GQsLMNAVOYbx3gQRqONWe2MOZI5Y/rCzJ8x8QRWe2NtkQYiPNYRTgIxP1XBvGfLtMD5g8K7PYfM8G6RmNiwsTvHI8dalQiu0cAIvXukYFa0mYqtdHNqjyDWpVcEVJoql6OFGlcSV3rgijRzZEeuqmpLR1A2tjI4InlkNlUXPPwAHEk2AHEkVB8F01vgyHSnENNMyi+VFCg7i12Isv2mFs27sC2u6xki6jDhF3gBRbix5e81T9E1kxEr4iUb3LW4AgBURfBVB9TfjV9jLFsx7sdz62/IfOstPbbNiWtSZjazAShfqxJb8K3Pxqh2bh2lMcQ3v2m8Be5+J9wNWGODyhwilnlYIqjecxu1vJbn0rS4TZKYawYjNHHnd+AZyS4B5KsaAeGvE0Utpsm7U6Xs56G7NH6dO4HYhRUX7TKBv5gB7/bFXPRSHMXmI4ZV82PWSEeBJQeaGpvRvAdVESRZ5WMjg7wzWsp8VUKv3anYXDrGioosFGn5n361sxxpLZ5+XJ5UyRSlKtKRSlKAUpSgFKUoBSlKA4qLtTDdZFJGN7KQPA20PobVLrigR8+gwQlhkRtIpSB4xyMBlPh2gLfvKB9ap5JRMJMd4QRS23BlGU+4hvcKt8Fs0JPiVYAxShXUHdcl+tU+rBvv+FdG2IwSZMwZGsyX74YC1mO5rgKM2+28XuTn+LSaRp+bdJsg7ckMYWcaiM9sDjG3e92jeh51kulWz1yyWAKH9anEFTfOPcWFvEVrNnzZlML7wLa/WU6e8bjWUwWIIBw76lCcvluNuY5jwB4GsprjgmdDenHUgQ4pjkGiSnXKOCy8dPb5d7dc/R4pAwDKQQRcEbiDxr5RgeiLTR4hkftxZciCxzrYk343I0U+0pvoai9GtpYqAt+jMWRVaR4z2kygqGYJvU9oE5bcSb1pimkvsU5sUU25emuz7NXlLCG339GYfI1Q9H+lazxCR42jFypa+aO41PbHdFiNWCjXea0CSAgEEEHcRqD5VfwzG00+TiKMKLC/qST7zrXeo+LxscQu7qo4XNrnkOZ8BWW6W9MpIEXqYtXJCvICALDeIx2m3gWOX1qLpI7MVT4NDtrbUOGj6yVwo4DezHkqjVj5V8x2ptWfacyRqCiE9hL3yDjI5GhYA+QJAF956bDwz4yczYhnkVbFr73J1SGMaBQbXIFgFDE2vetVsHZ0WChtfrJbDrCupvwXkq8r2vvqjJTZsxxOP92WcMEWHhCiyog3/AA99UvSHG2jyDQvrbiFvx8SfzpicaXJll7kZ7KDcz8APatxJ+GtU3WtLNr2m0JA4sxyog9dKoLpn2zSdBNnfrGkI0Rco+29mb1C5R941MweG6+d2Pc60s3I9XZEUeByBz4aHvVcbIwPUwrGDdgCWbm7asfK508LCvfBYVYkCKNALePma2zGkkYLybpsk1zSlWlIpSlAKUpQClKUApSlAKUpQClKUAriuaUBl+k2CKOJU0ud/BW8fBvn51jNsx52aQBlZTmspsw4nKfO9vOvqs0KupVhdSLEGsXtvZJjfXVTorc/3W5N8944gZcuPT8kbfp8q14s9v+HTwFJoB1q2uCtu0ja2ZfHTVL662AuD4O+Hws/6aqyIZEbrImXLlLkG+u4lk7ozX3jQ1ZdGdsJHh+qkPaiIRFHedWuYgg8gV8MhJsBeqLpTIzizqGNy8qa5lBAUFbd+IAAB11FtQDe2v6fHNNb6MmbJS2vZfdF5UlikkhjEaNKxyru7iKxGg3kHhXscIFJyM8d+8IzYN90ggH94AHxqt6I7cjjjWEIMgHZKd7Ukksh7xJJJKkkk90Vb4vasbKHRQVNsru3Vq3lcFj55beNV/UR4U30Tw5VSSfJHjwiKcwXte0xLORyLsSxHheqbpPjY4ZcPJIgewlyZiQFkITK4ABzEANYW8d4FWMe2ULmN1ZHsSosWEgH9UVF3P7tg3hWf6YYpJVEbKFCtmuT2wQCOBsuhIsb79wO7n02N5LWlteyz6jIohren6NL0U2RhGw8ZhD5ALWLm97A6kWJvofEWvuAFPtNUhC4aLuRXZz7crC5J+yp3fvAfVrrsfa/6JhhlABIyBX0ytqUZuVg1yp7VrXsSoaTsbo++IVXcssLdq50llzalv7MNe9+9qbBdDXc8JU4n+/2I4L487f8A6VGEwzy5nZssUYJd7dmMDUhR9aQ8vG54A3vQbZOb/wBSyZVYkxKdbLbKGJ4nLpfiWduIq2x2wVk6uGwTDRkEounWsDdVPJAdTxY+VzdKABYaAVCMSlnbzulpHelKVcZxSlKAUpSgFKUoBSlKAUpSgFKUoBSlRsbPkW9rsSAq82O4eHMngATwoDvPMqKWdgqjUsxAAHMk6CvFNoIRcZiOYRyD5HLZvSoMuEzMHkId11BPdQ7v1anuneM3e8baV6xuTUHf2LpxbWyX/wAQTlJ/05P9NQNo45XzRlUykamRh8EBzE+eXzqarV0xD5VZibKoJPkBc1F0zilJnyraKrLtGKBA5ETK4kDhXsCC6Ej6t8vG9xvO+tDtvZbsRJdsy92Rbgjzy90+O4+G6oXQDZnX4nE4iRQe0E1Fxm/aS2vwu6j0rcYpIk7KxqZCLhVAUgcyw1Vf9i9S+nqpfH9Fn1Hg1p9/c+dYRUaRFfKQzqHMbKA65tVkjAK3axUsmW991eO1ukaw4nELLhutZZB1ZZVZQuVWtZtFN271r2sNLVf9JdlyFWkZwJGIKgakZDmDMb2Cra51sBe51JqpUYadg2ILxSHQ5ENpCT2SGKENvsBYNqARoALs/GVXrc69c6Zkx6cOd87/AI2iv6OySSR4lmITq/10QF7RMzMVVLnRAV0X+dqsMKpezgWJ7WYgDLfXsLchftEk8stR9oSQlRDhiwiY5nme9jdbDtWF+QtZVuSaudgYN79YIwwU5XjJsykcr91rW15e+pfTJ7u9aT1pPjf7ncrX4Zb552+9DEbLlGHkMNklytkkIuwNt0d+6Sd77/PfT6L9uTvhgnWBjGchSXNu3oVkF2QWNrEMOzplFahI4pQbRrfirIMy+d/nWU2JgRh9qSREDJOpIBAIzL+sWwPg0g+7WbJVO9s2TMfHpG9ix9x2kII35CHA/D2reldztJP3/wDpyf6a7IthYAAeGleE7U82UTCbOz7XiAzMxRfadHRR5s6gD1qVDKrKGVgynUEEEEcwRvqtSS3Oo0qGPNNEva3yRroJR9bs7uttubebBSbbiv7kqxNdGgpXjh5ldVdSCrAFSNxBFwR6V7VYUilKUApSlAKUpQClKUApSlAKh439pD9pv8t6UrjOo8Z6YelKpXZq/Se4qJtz+jT/AN1J/A1c0rrKmUf0XfsJP76X+Orlf22I+0n+WlKVb9P2V/U9sqOkX7PFf3C/5hqh2X+2w/8AfJ+dc0rbP/HRk/VJ5xfssV/eyf50tXnRHcP/ANfC/wADUpUsn5ZHtlq39Ij/ALt/mtZ/bv8A9Xwf3f4MTSlefm/Mb8P5TcNuqJPSlVslj7PCvWHhSlRLq6PTo9/R4fsCrClKvXRiYpSldOClKUApSlAf/9k=",
                EmailConfirmed = true,
                PhoneNumberConfirmed = true
            };

            var user = await userManager.FindByEmailAsync(defaultUser.Email);
            if (user == null)
            {
                var result = await userManager.CreateAsync(defaultUser, "123!@#Qwe");
                if (result.Succeeded)
                {
                    await userManager.AddToRoleAsync(defaultUser, "Admin");
                }
            }
        }
    }
}
